(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(83)},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(27),o=a.n(l),c=a(85),s=(a(38),a(39),a(41),a(42),a(2)),i=a(3),u=a(5),m=a(4),p=a(6),d=(a(43),a(87)),E=a(32),g=(a(44),a(19)),h=a(28),f=a.n(h).a.create({baseURL:"\u201chttp://poll-n.heroku.com",withCredentials:!0});function v(e){throw e.response&&e.response.data?console.log("API Error",e.response.data):console.log("React Code Error",e.response),e}function b(e){return f.get("/api/next-poll",e).catch(v)}function N(e,t){return f.post("/api/vote-poll",e,t).catch(v)}function y(){return f.get("/api/logout").catch(v)}var O=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"logoutClick",value:function(e){var t=this.props.logoutConfirmed;e.preventDefault(),y().then(function(e){console.log("Log Out OK",e.data),t()})}},{key:"render",value:function(){var e=this,t=this.props.currentUser;return r.a.createElement("section",{className:"HomePage"},r.a.createElement("h1",{className:"polln-title"},"Poll(n)"),r.a.createElement("img",{src:"pollN-logo-img.png",alt:"pollN-logo-img"}),t?r.a.createElement("div",null,r.a.createElement("h2",null,"Welcome ",r.a.createElement("b",null,t.username)," !"),r.a.createElement("div",null,r.a.createElement(g.a,{className:"btn btn-primary",onClick:function(t){return e.logoutClick(t)},to:"/",role:"button"},"Log Out"),r.a.createElement(g.a,{className:"btn btn-primary",to:"/user-profile",role:"button"},"User Profile"),r.a.createElement(g.a,{className:"btn btn-primary",to:"/my-polls",role:"button"},"My Polls"),r.a.createElement(g.a,{className:"btn btn-primary",to:"/add-poll",role:"button"},"Add Poll"),r.a.createElement(g.a,{className:"btn btn-primary",to:"/poll-swiper",role:"button"},"Poll Swiper"))):r.a.createElement("div",null,r.a.createElement("p",null,"Welcome to the new instant-vote system!"),r.a.createElement("p",null,"Swipe ",r.a.createElement("i",{className:"fa fa-arrow-left"})," to vote YES"),r.a.createElement("p",null,"Swipe ",r.a.createElement("i",{className:"fa fa-arrow-right"})," to vote NO"),r.a.createElement("p",null,"Swipe ",r.a.createElement("i",{className:"fa fa-arrow-up"})," to vote BLANK"),"            ",r.a.createElement("div",null,r.a.createElement(g.a,{className:"btn btn-primary",to:"/signup-page",role:"button"},"Sign Up"),r.a.createElement(g.a,{className:"btn btn-primary",to:"/login-page",role:"button"},"Log In"))))}}]),t}(n.Component),C=a(14),S=a(86),U=(a(65),a(84)),j=(a(66),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"logoutClick",value:function(e){var t=this.props.logoutConfirmed;e.preventDefault(),y().then(function(e){console.log("Log Out OK",e.data),t()})}},{key:"render",value:function(){var e=this,t=this.props.currentUser;return r.a.createElement("section",{className:"NavBar"},r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},r.a.createElement(U.a,{className:"navbar-brand polln-title",exact:!0,to:"/"},"Poll(n)"),r.a.createElement("div",{id:"title"},this.props.title?r.a.createElement("div",null,r.a.createElement("h4",null,this.props.title)):r.a.createElement("div",null)),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(U.a,{className:"nav-link",to:"/add-poll"},"Add Poll")),t?r.a.createElement("li",null,r.a.createElement("form",{className:"form-inline my-2 my-lg-0"},r.a.createElement(U.a,{className:"nav-link",to:"/user-profile"},"Username:",r.a.createElement("b",null," ",t.username)),r.a.createElement("button",{className:"btn btn-outline-info my-2 my-sm-0",onClick:function(t){return e.logoutClick(t)}},"Log Out"))):r.a.createElement("div",null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(U.a,{className:"nav-link",to:"/signup-page"},"Sign Up")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(U.a,{className:"nav-link",to:"/login-page"},"Log In")))))))}}]),t}(n.Component)),w=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={username:"",originalPassword:""},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"genericOnChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(C.a)({},a,n))}},{key:"handleSubmit",value:function(e){var t,a=this;e.preventDefault(),(t=this.state,f.post("/api/process-login",t).catch(v)).then(function(e){console.log("Log In",e.data),a.props.loginSuccess(e.data)})}},{key:"render",value:function(){var e=this;return this.props.currentUser?r.a.createElement(S.a,{to:"/"}):r.a.createElement("section",{className:"LoginPage"},r.a.createElement(j,{currentUser:this.state.currentUser,title:"Log In",logoutConfirmed:function(t){return e.props.logoutConfirmed(t)}}),r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{onChange:function(t){return e.genericOnChange(t)},value:this.state.username,name:"username",type:"text",className:"form-control",id:"username",placeholder:"Enter username."})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{onChange:function(t){return e.genericOnChange(t)},value:this.state.originalPassword,name:"originalPassword",type:"password",className:"form-control",id:"password",placeholder:"Enter username."})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Log In")))}}]),t}(n.Component),P=(a(68),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={username:"",originalPassword:"",originalEmail:"",originalUsercode:"",errorMessage:"",tags:""},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"genericOnChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(C.a)({},a,n))}},{key:"handleSubmit",value:function(e){var t,a=this;console.log("TAGS",this.state.tags),e.preventDefault(),(t=this.state,f.post("/api/process-signup",t).catch(v)).then(function(e){a.setState({username:"",originalPassword:"",originalEmail:"",originalUsercode:"",errorMessage:"",tags:""}),console.log("Sign Up Result",e.data),a.props.signupSuccess(e.data)}).catch(function(e){a.setState({errorMessage:e.response.data.message})})}},{key:"render",value:function(){var e=this;return this.props.currentUser?r.a.createElement(S.a,{to:"/"}):r.a.createElement("section",{className:"SignupPage"},r.a.createElement(j,{currentUser:this.state.currentUser,title:"Sign Up",logoutConfirmed:function(t){return e.props.logoutConfirmed(t)}}),r.a.createElement("div",null,this.state.errorMessage&&r.a.createElement("div",{className:"error-message"},this.state.errorMessage),r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"Username"),r.a.createElement("input",{onChange:function(t){return e.genericOnChange(t)},value:this.state.username,name:"username",type:"text",className:"form-control",id:"username",placeholder:"Enter username."}),r.a.createElement("small",{id:"usernameHelp",className:"form-text text-muted"},"Make sure this username isn't too easily identifiable.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"tags"},"Tags"),r.a.createElement("input",{onChange:function(t){return e.genericOnChange(t)},value:this.state.tags,name:"tags",type:"text",className:"form-control",id:"tags",placeholder:"Enter tags."}),r.a.createElement("small",{id:"tagsHelp",className:"form-text text-muted"},"Make sure the chosen terms are 'space-separated'.")),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{onChange:function(t){return e.genericOnChange(t)},value:this.state.originalPassword,name:"originalPassword",type:"password",className:"form-control",id:"password",placeholder:"Password here."})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{onChange:function(t){return e.genericOnChange(t)},value:this.state.originalEmail,name:"originalEmail",type:"email",className:"form-control",id:"email",placeholder:"Email here."})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"usercode"},"Social Security Number"),r.a.createElement("input",{onChange:function(t){return e.genericOnChange(t)},value:this.state.originalUsercode,name:"originalUsercode",type:"text",className:"form-control",id:"usercode",placeholder:"Your Social Security Number here."})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Sign Up"))))}}]),t}(n.Component)),k=(a(69),a(29)),x=a.n(k),A=(a(73),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={voteValue:"",noPollsAvailable:!1},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"sendVote",value:function(e){var t=this,a=this.props,n=a.currentUser,r=a.pollItem,l=a.reloadPollDetails;this.setState({voteValue:e}),N({currentUser:n,pollItem:r,voteValue:e}).then(function(){return l().then(function(e){"NO POLLS AVAILABLE"===e.data&&(console.log("No Poll Available, will redirect to My Polls now."),t.setState({noPollsAvailable:!0})),console.log("Reloaded Poll Details",e.data)})})}},{key:"render",value:function(){var e=this,t=this.props.pollItem;return this.state.noPollsAvailable?r.a.createElement(S.a,{to:"my-polls",errormsg:"No more polls available at the moment. Feel free to add more."}):r.a.createElement("section",{className:"PollDetails"},r.a.createElement("div",{className:"card bg-secondary"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h1",{className:"card-title"},t.title)),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-subtitle mb-2 text-muted"},t.createdAt),r.a.createElement("h5",{className:"card-text"},t.description),r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item"},"Nb Votants"),r.a.createElement("li",{className:"list-group-item"},"Nb Verified"),r.a.createElement("li",{className:"list-group-item"},"Nb Yes"),r.a.createElement("li",{className:"list-group-item"},"Nb No"),r.a.createElement("li",{className:"list-group-item"},"Nb Skip")),r.a.createElement("div",{className:"arrow-line"},r.a.createElement("button",{onClick:function(){return e.sendVote(1)}},r.a.createElement("h5",null,r.a.createElement("i",{className:"fa fa-arrow-left"}),"YES")),r.a.createElement("button",{onClick:function(){return e.sendVote(2)}},r.a.createElement("h5",null,r.a.createElement("i",{className:"fa fa-reply-all"}),"SKIP")),r.a.createElement("button",{onClick:function(){return e.sendVote(0)}},r.a.createElement("h5",null,"NO",r.a.createElement("i",{className:"fa fa-arrow-right"})))))))}}]),t}(n.Component)),V=a(30),I=a.n(V),L=(n.Component,a(74),n.Component,a(75),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={title:"",description:"",isSubmitSuccessful:!1,currentUser:a.props.currentUser},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"genericOnChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(C.a)({},a,n))}},{key:"handleSubmit",value:function(e){var t,a=this;e.preventDefault(),console.log("About to postPoll()",e),(t=this.state,f.post("/api/polls",t).catch(v)).then(function(e){console.log("Poll added",e.data),a.setState({isSubmitSuccessful:!0})})}},{key:"render",value:function(){var e=this;return this.state.isSubmitSuccessful?r.a.createElement(S.a,{to:"/my-polls"}):r.a.createElement("section",{className:"AddPoll"},r.a.createElement(j,{currentUser:this.props.currentUser,title:"Add Poll",logoutConfirmed:function(t){return e.props.logoutConfirmed(t)}}),r.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"pollTitle"},"Title"),r.a.createElement("input",{onChange:function(t){return e.genericOnChange(t)},value:this.state.title,name:"title",type:"text",className:"form-control",id:"pollTitle",placeholder:"Enter title."})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"pollDesc"},"Description"),r.a.createElement("input",{onChange:function(t){return e.genericOnChange(t)},value:this.state.description,name:"description",type:"text",className:"form-control",id:"pollDesc",placeholder:"Enter description."})),r.a.createElement("button",{type:"submit",className:"btn btn-info"},"Submit This Poll")))}}]),t}(n.Component)),M=(a(76),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"NotFound"},r.a.createElement("h2",null,"404 Page Not Found"),r.a.createElement("p",null,"Sorry, the page you're looking for doesn't exist."))}}]),t}(n.Component)),D=(a(77),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.currentUser,a=e.logoutConfirmed;return t?r.a.createElement("section",{className:"ProfilePage"},r.a.createElement(j,{currentUser:t,title:"Profile Page",logoutConfirmed:function(e){return a(e)}}),r.a.createElement("div",{className:"user-info"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4"},r.a.createElement("img",{src:"https://pngimage.net/wp-content/uploads/2018/06/profile-logo-png-3.png",alt:t.username})),r.a.createElement("div",{className:"col-8"},r.a.createElement("p",null,"Username: ",r.a.createElement("b",null,t.username)),t.isCertified?r.a.createElement("p",null,"Your account is certified"):r.a.createElement("p",null,"Insert valid Usercode to get certified"))),r.a.createElement("div",{className:"tag-list"},r.a.createElement("p",null,"List of associated tags :"),r.a.createElement("ul",null,t.tags.map(function(e){return r.a.createElement("li",null,r.a.createElement("p",null,r.a.createElement("b",null,e)))}))))):r.a.createElement(S.a,{to:"/"})}}]),t}(n.Component)),F=(a(78),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={pollCreatedArray:[],pollVotedArray:[]},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this;(e=this.props.currentUser._id,f.get("/api/polls-created?userId=".concat(e)).catch(v)).then(function(e){console.log("Polls Created List",e.data),t.setState({pollCreatedArray:e.data})}),function(e){return f.get("/api/polls-voted?userId=".concat(e)).catch(v)}(this.props.currentUser._id).then(function(e){console.log("Polls Voted List",e.data),t.setState({pollVotedArray:e.data})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.pollCreatedArray,n=t.pollVotedArray;return r.a.createElement("section",{className:"MyPolls"},r.a.createElement(j,{currentUser:this.props.currentUser,title:"My Polls",logoutConfirmed:function(t){return e.props.logoutConfirmed(t)}}),this.props.errormsg?r.a.createElement("div",null,r.a.createElement("h4",null,this.props.errormsg)):r.a.createElement("div",null),r.a.createElement("p",null,"Polls I've Created"),r.a.createElement("div",{className:"card-group"},a.map(function(e){return r.a.createElement("div",{className:"card",key:e._id},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",null,e.title)),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",null,r.a.createElement("h6",{className:"card-text"},e.description)),r.a.createElement("ul",null,r.a.createElement("li",{className:"card-text"},r.a.createElement("b",null,e.votes.length)," Voters"),r.a.createElement("li",{className:"card-text"},r.a.createElement("b",null,"0")," Verified"),r.a.createElement("li",{className:"card-text"},"Yes"),r.a.createElement("li",{className:"card-text"},"No"),r.a.createElement("li",{className:"card-text"},"Skip"))))})),r.a.createElement("p",null,"Polls I've Voted"),r.a.createElement("div",{className:"card-group"},n.map(function(e){return r.a.createElement("div",{className:"card",key:e._id},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",null,e.title)),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",null,r.a.createElement("h6",{className:"card-text"},e.description)),r.a.createElement("ul",null,r.a.createElement("li",{className:"card-text"},r.a.createElement("b",null,e.votes.length)," Voters"),r.a.createElement("li",{className:"card-text"},r.a.createElement("b",null,"0")," Verified"),r.a.createElement("li",{className:"card-text"},"No"),r.a.createElement("li",{className:"card-text"},"Skip"))))})))}}]),t}(n.Component)),T=(a(79),a(31)),B=(a(80),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={currentUser:a.props.currentUser,pollItem:{},voteValue:"",noPollsAvailable:!1},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.currentUser;b(t._id).then(function(t){"NO POLLS AVAILABLE"===t.data&&(console.log("No Poll Available, will redirect to My Polls now."),e.setState({noPollsAvailable:!0})),console.log("Next Poll",t.data),e.setState({pollItem:t.data})}),this.setState({currentUser:t})}},{key:"sendVote",value:function(e){var t=this;console.log(e),this.setState({voteValue:e},function(){var a;console.log("STATE BEFORE NEXT POLL",t.state),(a=t.state,f.post("/api/swipe-poll",a).catch(v)).then(function(a){console.log(a.data),t.setState({pollItem:a.data,voteValue:e})})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.pollItem,n=t.currentUser;return r.a.createElement("section",{className:"PollSwiper"},r.a.createElement(j,{currentUser:this.props.currentUser,logoutConfirmed:function(t){return e.props.logoutConfirmed(t)}}),a?r.a.createElement(T.a,{pollItem:a,onSwipedLeft:function(){return e.sendVote(1)},onSwipedRight:function(){return e.sendVote(0)},onSwipedUp:function(){return e.sendVote(2)},className:"swiper"},r.a.createElement("div",{className:"card bg-secondary"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h1",{className:"card-title"},a.title)),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-text"},a.description)))):r.a.createElement("div",{className:"swiper"},r.a.createElement("div",{className:"card bg-secondary"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h1",{className:"card-title"},"You are out of polls ",n.username)),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-text"},"Please consider logging out or adding new polls!")))))}}]),t}(n.Component)),Y=function(e){function t(e){var a;Object(s.a)(this,t),a=Object(u.a)(this,Object(m.a)(t).call(this,e));var n=localStorage.getItem("currentUser");return n&&(n=JSON.parse(n)),a.state={currentUser:n},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"updateUser",value:function(e){e?localStorage.setItem("currentUser",JSON.stringify(e)):localStorage.removeItem("currentUser"),this.setState({currentUser:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(d.a,null,r.a.createElement(E.a,{exact:!0,path:"/",render:function(){return r.a.createElement(O,{currentUser:e.state.currentUser,logoutConfirmed:function(t){return e.updateUser(t)}})}}),r.a.createElement(E.a,{path:"/signup-page",render:function(){return r.a.createElement(P,{currentUser:e.state.currentUser,signupSuccess:function(t){return e.updateUser(t)}})}}),r.a.createElement(E.a,{path:"/login-page",render:function(){return r.a.createElement(w,{currentUser:e.state.currentUser,loginSuccess:function(t){return e.updateUser(t)}})}}),r.a.createElement(E.a,{path:"/user-profile",render:function(){return r.a.createElement(D,{currentUser:e.state.currentUser,logoutConfirmed:function(t){return e.updateUser(t)}})}}),r.a.createElement(E.a,{path:"/add-poll",render:function(){return r.a.createElement(L,{currentUser:e.state.currentUser,logoutConfirmed:function(t){return e.updateUser(t)}})}}),r.a.createElement(E.a,{path:"/poll-swiper",render:function(){return r.a.createElement(B,{currentUser:e.state.currentUser,logoutConfirmed:function(t){return e.updateUser(t)}})}}),r.a.createElement(E.a,{path:"/my-polls",render:function(){return r.a.createElement(F,{currentUser:e.state.currentUser,logoutConfirmed:function(t){return e.updateUser(t)}})}}),r.a.createElement(E.a,{component:M})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(c.a,null,r.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.d2ddf5cd.chunk.js.map